(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229b3f"],{df29:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("breadcrumb",{attrs:{breadcrumbItemList:["商品管理","商品列表"]}}),a("el-card",{attrs:{shadow:"always"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:!0},on:{clear:function(t){return e.queryGoodsData(e.queryGoodsParam)}},model:{value:e.queryGoodsParam.query,callback:function(t){e.$set(e.queryGoodsParam,"query",t)},expression:"queryGoodsParam.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.queryGoodsData(e.queryGoodsParam)}},slot:"append"})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.goToAddGoodsPage}},[e._v("添加商品")])],1)],1),a("el-table",{attrs:{data:e.goodsList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"goods_name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"商品价格",prop:"goods_price",width:"100px"}}),a("el-table-column",{attrs:{label:"商品数量",prop:"goods_number",width:"100px"}}),a("el-table-column",{attrs:{label:"上传时间",prop:"upd_time",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.uploadTime(t.row.upd_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditParamsDialog(t.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.showDeleteGoodsMessageBox(t.row)}}})]}}])})],1),a("pagination",{attrs:{pageSizes:e.pageSizes,pageSize:e.queryGoodsParam.pagesize,total:e.total,currentPage:e.queryGoodsParam.pagenum},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentPageChange}})],1)],1)},n=[],r=(a("0d03"),a("1bab"));function s(e){return Object(r["a"])({url:"goods",method:"get",params:{query:e.query,pagenum:e.pagenum,pagesize:e.pagesize}})}function u(e){return Object(r["a"])({url:"goods/".concat(e),method:"delete"})}var i=a("a049"),d=a("c22e"),l=a("c1ce"),c=a("90b9"),p={name:"GoodsList",data:function(){return{queryGoodsParam:{query:"",pagesize:5,pagenum:1},goodsList:[],total:0,pageSizes:[1,2,5,10]}},components:{Breadcrumb:i["a"],Popup:d["a"],Pagination:l["a"]},created:function(){this.queryGoodsData(this.queryGoodsParam)},computed:{uploadTime:function(){return function(e){return Object(c["a"])(new Date(1e3*e),"yyyy-MM-dd hh:mm:ss")}}},methods:{queryGoodsData:function(e){var t=this;s(e).then((function(e){200===e.meta.status?function(){t.goodsList=e.data.goods,t.total=e.data.total}():t.$message.error(e.meta.msg)}))},handleSizeChange:function(e){this.queryGoodsParam.pagesize=e,this.queryGoodsData(this.queryGoodsParam)},handleCurrentPageChange:function(e){this.queryGoodsParam.pagenum=e,this.queryGoodsData(this.queryGoodsParam)},showDeleteGoodsMessageBox:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u(e.goods_id).then((function(e){200===e.meta.status?t.queryGoodsData(t.queryGoodsParam):t.$message.error(e.meta.msg)}))}))["catch"]((function(){t.$message({type:"info",message:"已取消删除"})}))},goToAddGoodsPage:function(){this.$router.push("/goods/addGoods")}}},m=p,g=a("2877"),h=Object(g["a"])(m,o,n,!1,null,"ce48d318",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d229b3f.3786b45e.js.map