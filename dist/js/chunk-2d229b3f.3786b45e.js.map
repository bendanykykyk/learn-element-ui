{"version":3,"sources":["webpack:///./src/views/goodsManager/goodsList/GoodsList.vue?463e","webpack:///./src/network/goodsList.js","webpack:///src/views/goodsManager/goodsList/GoodsList.vue","webpack:///./src/views/goodsManager/goodsList/GoodsList.vue?72bb","webpack:///./src/views/goodsManager/goodsList/GoodsList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","queryGoodsData","queryGoodsParam","model","value","callback","$$v","$set","expression","slot","goToAddGoodsPage","_v","goodsList","scopedSlots","_u","key","fn","scope","_s","uploadTime","row","upd_time","showEditParamsDialog","showDeleteGoodsMessageBox","pageSizes","pagesize","total","pagenum","handleSizeChange","handleCurrentPageChange","staticRenderFns","paramsObject","request","url","method","params","query","deleteGoods","id","name","data","components","Breadcrumb","Popup","Pagination","created","computed","methods","res","meta","status","$confirm","confirmButtonText","cancelButtonText","type","$router","push","component"],"mappings":"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","file":"js/chunk-2d229b3f.3786b45e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('breadcrumb',{attrs:{\"breadcrumbItemList\":['商品管理', '商品列表']}}),_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":true},on:{\"clear\":function($event){return _vm.queryGoodsData(_vm.queryGoodsParam)}},model:{value:(_vm.queryGoodsParam.query),callback:function ($$v) {_vm.$set(_vm.queryGoodsParam, \"query\", $$v)},expression:\"queryGoodsParam.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.queryGoodsData(_vm.queryGoodsParam)}},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goToAddGoodsPage}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"label\":\"上传时间\",\"prop\":\"upd_time\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.uploadTime(scope.row.upd_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditParamsDialog(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showDeleteGoodsMessageBox(scope.row)}}})]}}])})],1),_c('pagination',{attrs:{\"pageSizes\":_vm.pageSizes,\"pageSize\":_vm.queryGoodsParam.pagesize,\"total\":_vm.total,\"currentPage\":_vm.queryGoodsParam.pagenum},on:{\"handleSizeChange\":_vm.handleSizeChange,\"handleCurrentChange\":_vm.handleCurrentPageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from \"./request\";\n\n/**\n * @description: 1.8.1. 商品列表数据\n * @param {*} paramsObject\n * @return {*}\n */\nexport function queryGoodsData(paramsObject) {\n  return request({\n    url: `goods`,\n    method: \"get\",\n    params: {\n      query: paramsObject.query,\n      pagenum: paramsObject.pagenum,\n      pagesize: paramsObject.pagesize,\n    },\n  });\n}\n\n/**\n * @description: 添加商品\n * @param {*} paramsObject\n * @return {*}\n */\nexport function addGoods(paramsObject) {\n  return request({\n    url: `goods`,\n    method: \"post\",\n    data: {\n      goods_name: paramsObject.goods_name,\n      goods_cat: paramsObject.goods_cat,\n      goods_price: paramsObject.goods_price,\n      goods_number: paramsObject.goods_number,\n      goods_weight: paramsObject.goods_weight,\n      goods_introduce: paramsObject.goods_introduce,\n      pics: paramsObject.pics,\n      attrs: paramsObject.attrs,\n    },\n  });\n}\n\n/**\n * @description: 1.8.5. 删除商品\n * @param {*} id\n * @return {*}\n */\nexport function deleteGoods(id) {\n  return request({\n    url: `goods/${id}`,\n    method: \"delete\",\n  });\n}\n","<template>\n  <div>\n    <breadcrumb :breadcrumbItemList=\"['商品管理', '商品列表']\"></breadcrumb>\n    <el-card shadow=\"always\">\n      <!--layout布局，栅格-->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"6\">\n          <!--复合搜索框-->\n          <el-input\n            placeholder=\"请输入内容\"\n            class=\"input-with-select\"\n            v-model=\"queryGoodsParam.query\"\n            :clearable=\"true\"\n            @clear=\"queryGoodsData(queryGoodsParam)\"\n          >\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-search\"\n              @click=\"queryGoodsData(queryGoodsParam)\"\n            ></el-button> </el-input\n        ></el-col>\n        <el-col :span=\"6\">\n          <!--添加用户按钮-->\n          <el-button type=\"primary\" @click=\"goToAddGoodsPage\"\n            >添加商品</el-button\n          >\n        </el-col>\n      </el-row>\n\n      <!--表格-->\n      <el-table :data=\"goodsList\" stripe border>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column\n          label=\"商品名称\"\n          prop=\"goods_name\"\n          show-overflow-tooltip\n        ></el-table-column>\n        <el-table-column\n          label=\"商品价格\"\n          prop=\"goods_price\"\n          width=\"100px\"\n        ></el-table-column>\n        <el-table-column\n          label=\"商品数量\"\n          prop=\"goods_number\"\n          width=\"100px\"\n        ></el-table-column>\n        <el-table-column label=\"上传时间\" prop=\"upd_time\" width=\"200px\">\n          <template v-slot:default=\"scope\">\n            {{ uploadTime(scope.row.upd_time) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template v-slot:default=\"scope\">\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              @click=\"showEditParamsDialog(scope.row)\"\n            ></el-button>\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"showDeleteGoodsMessageBox(scope.row)\"\n            ></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!--分页组件-->\n      <pagination\n        :pageSizes=\"pageSizes\"\n        :pageSize=\"queryGoodsParam.pagesize\"\n        :total=\"total\"\n        :currentPage=\"queryGoodsParam.pagenum\"\n        @handleSizeChange=\"handleSizeChange\"\n        @handleCurrentChange=\"handleCurrentPageChange\"\n      >\n      </pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\n//导入网络请求\nimport { queryGoodsData, deleteGoods } from \"network/goodsList\";\n//导入公共组件\nimport Breadcrumb from \"components/common/breadcrumb/Breadcrumb\";\nimport Popup from \"components/common/popup/Popup\";\nimport Pagination from \"components/common/pagination/Pagination\";\n//导入工具类\nimport { formatDate } from \"common/utils\";\nexport default {\n  name: \"GoodsList\",\n  data() {\n    return {\n      queryGoodsParam: {\n        query: \"\",\n        pagesize: 5,\n        pagenum: 1,\n      },\n      goodsList: [],\n      total: 0,\n      pageSizes: [1, 2, 5, 10],\n    };\n  },\n  components: {\n    Breadcrumb,\n    Popup,\n    Pagination,\n  },\n  created() {\n    this.queryGoodsData(this.queryGoodsParam);\n  },\n  computed: {\n    uploadTime() {\n      return function(time) {\n        return formatDate(new Date(time * 1000), \"yyyy-MM-dd hh:mm:ss\");\n      };\n    },\n  },\n  methods: {\n    queryGoodsData(paramsObject) {\n      queryGoodsData(paramsObject).then((res) => {\n        res.meta.status === 200\n          ? (() => {\n              //将请求到的数据res的data存放到goodsList中存储\n              this.goodsList = res.data.goods;\n              this.total = res.data.total;\n            })()\n          : this.$message.error(res.meta.msg);\n      });\n    },\n    handleSizeChange(pagesize) {\n      this.queryGoodsParam.pagesize = pagesize;\n      this.queryGoodsData(this.queryGoodsParam);\n    },\n    handleCurrentPageChange(pagenum) {\n      this.queryGoodsParam.pagenum = pagenum;\n      this.queryGoodsData(this.queryGoodsParam);\n    },\n    showDeleteGoodsMessageBox(row) {\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          ///发起删除商品请求\n          deleteGoods(row.goods_id).then((res) => {\n            res.meta.status === 200\n              ? this.queryGoodsData(this.queryGoodsParam)\n              : this.$message.error(res.meta.msg);\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    goToAddGoodsPage() {\n      this.$router.push(\"/goods/addGoods\");\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsList.vue?vue&type=template&id=ce48d318&scoped=true&\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce48d318\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}